var HaiiroIcon;HaiiroIcon=function(){var fillPallet,randomPaint;function HaiiroIcon(svgId,defaults){this.defaults=defaults;this.rects=document.getElementById(svgId).childNodes;this.paintWithDefault()}fillPallet=function(pallet){var filled;filled=[];while(filled.length<7){filled=filled.concat(pallet)}return filled.slice(0,7)};HaiiroIcon.prototype.paintWithDefault=function(){return this.paint(this.defaults)};HaiiroIcon.prototype.paintTarget=function(num,color){return this.rects[num].setAttribute("fill",color)};HaiiroIcon.prototype.paint=function(pallet){var colors,i,num,results;colors=fillPallet.call(this,pallet);if(colors.length===7){results=[];for(num=i=0;i<=6;num=++i){results.push(this.rects[num].setAttribute("fill",colors[num]))}return results}};randomPaint=function(count){if(count===0&&this.finishLogic()){this.paint(this.randomColors);this.finishCallback();return}else if(count===0){count+=100}return setTimeout(function(_this){return function(){_this.paintTarget(Math.floor(Math.random()*7),_this.randomColors[Math.floor(Math.random()*7)]);return randomPaint.call(_this,count-1)}}(this),15)};HaiiroIcon.prototype.randomPaintStart=function(pallet,finishLogic,finishCallback){this.finishLogic=finishLogic;this.finishCallback=finishCallback;this.randomColors=fillPallet.call(this,pallet);return randomPaint.call(this,100)};return HaiiroIcon}();